<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dark Wolf ‚Äî Terms of Service</title>

<!-- jsPDF for PDF export -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
/* ================================
   DARK WOLF COLOR SYSTEM
================================ */
:root {
  --bg-main: #050505;
  --bg-panel: #0b0b0b;

  --wolf-red: #dc2626;
  --wolf-red-dark: #7f1d1d;
  --wolf-glow: rgba(220,38,38,0.35);

  --text-main: #e5e5e5;
  --text-muted: #9ca3af;
}

/* ================================
   BASE PAGE + LOCK
================================ */
body {
  margin: 0;
  font-family: "Segoe UI", system-ui, sans-serif;
  background: radial-gradient(circle at top, #140000, #020202);
  color: var(--text-main);
}

body.locked {
  height: 100vh;
  overflow: hidden;
}

/* ================================
   MODAL OVERLAY
================================ */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(2, 2, 2, 0.9);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

/* ================================
   MODAL BOX
================================ */
.modal-content {
  width: 92%;
  max-width: 740px;
  background: linear-gradient(180deg, #020202, #050505);
  border: 1px solid #2a0000;
  border-radius: 16px;
  box-shadow: 0 0 45px var(--wolf-glow);
  display: flex;
  flex-direction: column;
  animation: rise 0.3s ease-out;
  outline: none;
}

@keyframes rise {
  from { transform: translateY(20px); opacity: 0; }
  to   { transform: translateY(0); opacity: 1; }
}

/* ================================
   HEADER
================================ */
.modal-header {
  padding: 18px 20px;
  border-bottom: 1px solid #2a0000;
}

.modal-header h1 {
  margin: 0;
  font-size: 1.35rem;
  color: var(--wolf-red);
  letter-spacing: 0.08em;
  text-shadow: 0 0 12px var(--wolf-glow);
}

.modal-header small {
  display: block;
  margin-top: 4px;
  color: var(--text-muted);
}

/* ================================
   BODY
================================ */
.modal-body {
  padding: 18px 20px;
  max-height: 55vh;
  overflow-y: auto;
  line-height: 1.55;
  font-size: 0.95rem;
}

.modal-body::-webkit-scrollbar {
  width: 6px;
}

.modal-body::-webkit-scrollbar-thumb {
  background: var(--wolf-red);
  border-radius: 6px;
}

/* ================================
   FOOTER
================================ */
.modal-footer {
  padding: 16px 20px;
  border-top: 1px solid #2a0000;
  display: flex;
  justify-content: space-between;
  gap: 12px;
}

/* ================================
   BUTTONS
================================ */
button {
  font-size: 0.9rem;
  padding: 10px 18px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
}

button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.btn-decline {
  background: transparent;
  color: var(--wolf-red);
  border: 1px solid #3f0000;
}

.btn-decline:hover {
  background: rgba(220,38,38,0.1);
}

.btn-accept {
  background: var(--wolf-red);
  color: #020202;
  font-weight: 600;
  box-shadow: 0 0 16px var(--wolf-glow);
}

.btn-accept:hover:not(:disabled) {
  background: #b91c1c;
}
</style>
</head>

<body class="locked">

<!-- ================================
     TERMS MODAL
================================ -->
<div class="modal" role="dialog" aria-modal="true" aria-labelledby="tos-title">
  <div class="modal-content" tabindex="-1">
    <div class="modal-header">
      <h1 id="tos-title">DARK WOLF ‚Äî TERMS OF SERVICE</h1>
      <small>Version 1.0 ‚Ä¢ Effective Immediately</small>
    </div>

    <div class="modal-body" id="tos-body">
      <p><strong>Definitions</strong></p>
      <p>
        <strong>Shadow</strong> refers to the bot.  
        <strong>User</strong> refers to anyone interacting with it.
      </p>

      <p>
        By interacting with Shadow, you agree to comply with all rules,
        Discord policies, and applicable laws.
      </p>

      <p>
        You may not engage in sexual content, harassment, hate speech,
        or misuse of the bot. You must be at least 14 years old.
      </p>

      <p>
        Violations may result in warnings, kicks, bans, or permanent
        removal. All decisions are final.
      </p>

      <p>
        The service is provided ‚Äúas is.‚Äù Use at your own risk.
      </p>

      <!-- Spacer forces scroll-to-bottom -->
      <p style="margin-top:800px; color: var(--text-muted);">
        You have reached the end of the Terms.
      </p>
    </div>

    <div class="modal-footer">
      <button class="btn-decline" id="decline">Decline</button>
      <button class="btn-accept" id="accept" disabled>Accept</button>
    </div>
  </div>
</div>

<script>
/* ================================
   CONFIG
================================ */
const TOS_VERSION = "1.0";
const STORAGE_KEY = "darkwolf_tos_acceptance";
const WEBHOOK_URL = "PUT_YOUR_DISCORD_WEBHOOK_URL_HERE";

/* ================================
   ELEMENTS
================================ */
const body = document.body;
const modal = document.querySelector(".modal");
const modalBox = document.querySelector(".modal-content");
const tosBody = document.getElementById("tos-body");
const acceptBtn = document.getElementById("accept");
const declineBtn = document.getElementById("decline");

/* ================================
   FOCUS TRAP (ACCESSIBILITY)
================================ */
modalBox.focus();
document.addEventListener("focusin", (e) => {
  if (!modalBox.contains(e.target)) {
    e.stopPropagation();
    modalBox.focus();
  }
});

/* ================================
   SCROLL REQUIREMENT
================================ */
tosBody.addEventListener("scroll", () => {
  if (tosBody.scrollTop + tosBody.clientHeight >= tosBody.scrollHeight - 5) {
    acceptBtn.disabled = false;
  }
});

/* ================================
   ACCEPT HANDLER
================================ */
acceptBtn.onclick = () => {
  const timestamp = new Date().toISOString();

  const record = {
    version: TOS_VERSION,
    acceptedAt: timestamp,
    userAgent: navigator.userAgent
  };

  localStorage.setItem(STORAGE_KEY, JSON.stringify(record));

  logToDiscord(record);
  generatePDF(record);

  modal.remove();
  body.classList.remove("locked");
};

/* ================================
   DECLINE HANDLER
================================ */
declineBtn.onclick = () => {
  alert("You must accept the Terms of Service to continue.");
};

/* ================================
   DISCORD LOGGING
================================ */
function logToDiscord(data) {
  fetch(WEBHOOK_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      embeds: [{
        title: "ü©∏ Dark Wolf ‚Äî ToS Accepted",
        color: 0xdc2626,
        fields: [
          { name: "Version", value: data.version },
          { name: "Accepted At", value: data.acceptedAt },
          { name: "User Agent", value: data.userAgent.slice(0, 200) }
        ]
      }]
    })
  }).catch(() => {});
}

/* ================================
   PDF EXPORT
================================ */
function generatePDF(data) {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  doc.setFontSize(14);
  doc.text("Dark Wolf ‚Äî Terms of Service", 10, 15);

  doc.setFontSize(10);
  doc.text(`Version: ${data.version}`, 10, 25);
  doc.text(`Accepted At: ${data.acceptedAt}`, 10, 32);

  doc.setFontSize(9);
  doc.text(tosBody.innerText, 10, 45);

  doc.save("DarkWolf_TOS.pdf");
}
</script>

</body>
</html>
